<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<title>Dashboard Diagram</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
		<script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>
		<script src="lib/roslibjs/include/EventEmitter2/eventemitter2.js"></script>
		<script src="lib/roslibjs/build/roslib.js"></script>
		<!-- bootstrap -->
		<link href="lib/bootstrap/css/bootstrap.css" rel="stylesheet">
		<script src="lib/bootstrap/js/bootstrap.js"></script>
		<script src="rosdash.js"></script>
		<script src="rosdash-widgets.js"></script>
		<style>
#cy {
  height: 100%;
  width: 100%;
  position: absolute;
  left: 310px;
  top: 50px;
}
		</style>
	</head>
	<body>
		<div id="toolbar" title="toolbar">
			<form>
			<fieldset>
				<span id="tb-button"></span>
				<span id="tb-content"></span>
			</fieldset>
			</form>
		</div>

		<div style="position: relative; left: 310px;">
			<input type="button" id="save" value="save" />
			<input type="text" name="text" id="text" value="" />
			<div class="btn-group">
				<a class="btn dropdown-toggle" data-toggle="dropdown" href="#" id="addtopic">
					add topic
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu">
					<li><a href="">a</a></li>
					<li><a href="">b</a></li>
				</ul>
			</div>
			<div class="btn-group">
				<a class="btn dropdown-toggle" data-toggle="dropdown" href="#" id="addblock">
					add block
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu" id="widget-list">
				</ul>
			</div>
			<div class="btn-group">
				<a class="btn dropdown-toggle" data-toggle="dropdown" href="#" id="addconst">
					add constant
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu" id="msg-list">
				</ul>
			</div>
			<input type="button" id="removeblock" value="remove block" />
			<input type="button" id="property" value="property" />
			<input type="button" id="open-toolbar" value="toolbar" />
		</div>

		<div id="dialog-form" title="Property">
			<form>
			<fieldset>
				<span id="property"></span>
			</fieldset>
			</form>
		</div>

		<div id="cy"></div>
		<script type="text/javascript">
$(function() {
	$("#addtopic").click(function ()
	{
		ROSDASH.addTopicByName($("#text").val());
	});
	$("#addblock").click(function ()
	{
		ROSDASH.addBlockByType($("#text").val());
	});
	$("#save").click(function ()
	{
		ROSDASH.saveDiagram();
	});
	$("#removeblock").click(function ()
	{
		ROSDASH.removeBlock($("#text").val());
	});
	$("#property").click(ROSDASH.showProperty);
	$("#open-toolbar").click(ROSDASH.initToolbar);
	ROSDASH.connectROS("<?php echo $_GET["host"]; ?>", "9090");
	ROSDASH.runDiagram("<?php echo $_GET["user"]; ?>");
});
		</script>
	</body>
</html>
